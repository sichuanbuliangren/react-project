{"ast":null,"code":"/* See license.txt for terms of usage */\n\nvar _ = require('underscore');\nexports.get = function (url, params, cb) {\n  exports.send(url, 'GET', params, cb);\n};\nexports.post = function (url, params, cb) {\n  exports.send(url, 'POST', params, cb);\n};\nexports.send = function (url, method, params, cb) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      var data = xhr.responseText;\n      try {\n        data = JSON.parse(data);\n      } catch (exc) {}\n      if (cb) {\n        cb(data);\n      }\n    }\n  };\n  var body;\n  if (params) {\n    var bodies = [];\n    for (var name in params) {\n      bodies.push(name + '=' + encodeURIComponent(params[name]));\n    }\n    body = bodies.join('&');\n    if (body.length) {\n      xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    }\n  }\n  xhr.send(body);\n};\nexports.getJSON = function (url, params, cb) {\n  var pairs = ['callback=jsonp'];\n  _.each(params, function (value, key) {\n    pairs[pairs.length] = key + '=' + value;\n  });\n  if (pairs.length) {\n    url = url + (url.indexOf('?') == -1 ? '?' : '&') + pairs.join('&');\n  }\n  function jsonpReturn(o) {\n    self.jsonp = undefined;\n    if (!o || o.error) {\n      if (cb) cb(o);\n    } else {\n      if (cb) cb(0, o);\n    }\n  }\n  if (has('appjs')) {\n    self.jsonp = jsonpReturn;\n    appjs.load(url, 'GET', {}, params, function (err, data) {\n      if (err) {\n        cb(err);\n      } else {\n        sandboxEval(data);\n      }\n    });\n  } else if (self.document) {\n    self.jsonp = function (o) {\n      // Return on a timeout to ensure that getJSON calls return asynchronously. There\n      // is a case in IE where, after hitting the back button, this will return\n      // synchronously and potentially confuse some clients.\n      setTimeout(function () {\n        jsonpReturn(o);\n      }, 0);\n    };\n    function cleanup() {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    // script.async = true;\n    script.src = url;\n    script.onload = cleanup;\n    script.onerror = function (event) {\n      cleanup();\n      cb(\"Error\");\n    };\n    var head = document.getElementsByTagName(\"head\")[0];\n    head.appendChild(script);\n  } else {\n    self.jsonp = jsonpReturn;\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        eval(xhr.responseText);\n        self.jsonp = null;\n      }\n    };\n    xhr.send(\"\");\n  }\n};\nexports.postJSON = function (url, params, cb) {\n  exports.post(url, params, function (data) {\n    var result = eval(data);\n    cb(0, result);\n  });\n};","map":{"version":3,"names":["_","require","exports","get","url","params","cb","send","post","method","xhr","XMLHttpRequest","open","onreadystatechange","readyState","data","responseText","JSON","parse","exc","body","bodies","name","push","encodeURIComponent","join","length","setRequestHeader","getJSON","pairs","each","value","key","indexOf","jsonpReturn","o","self","jsonp","undefined","error","has","appjs","load","err","sandboxEval","document","setTimeout","cleanup","script","parentNode","removeChild","createElement","type","src","onload","onerror","event","head","getElementsByTagName","appendChild","eval","postJSON","result"],"sources":["C:/Users/11841/Desktop/LJ的包容性文件夹/.A实习冲刺/react-project/node_modules/ajax/lib/ajax.js"],"sourcesContent":["/* See license.txt for terms of usage */\n\nvar _ = require('underscore');\n\nexports.get = function(url, params, cb) {\n    exports.send(url, 'GET', params, cb);\n}\n\nexports.post = function(url, params, cb) {\n    exports.send(url, 'POST', params, cb);\n}\n\nexports.send = function(url, method, params, cb) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState == 4) {\n            var data = xhr.responseText;\n            try {\n                data = JSON.parse(data);\n            } catch (exc) {\n            }\n            if (cb) {\n                cb(data);\n            }\n        }\n    }\n\n    var body;\n    if (params) {\n        var bodies = [];\n        for (var name in params) {\n            bodies.push(name + '=' + encodeURIComponent(params[name]));\n        }\n\n        body = bodies.join('&');\n        if (body.length) {\n            xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"); \n        }        \n    }\n\n    xhr.send(body);\n}\n\nexports.getJSON = function(url, params, cb) {\n   var pairs = ['callback=jsonp'];\n    _.each(params, function(value, key) {\n        pairs[pairs.length] = key+'='+value;\n    });\n    if (pairs.length) {\n        url = url + (url.indexOf('?') == -1 ? '?' : '&') + pairs.join('&');\n    }\n\n    function jsonpReturn(o) {\n        self.jsonp = undefined;\n        if (!o || o.error) {\n            if (cb) cb(o);        \n        } else {\n            if (cb) cb(0, o);\n        }        \n    }\n\n    if (has('appjs')) {\n        self.jsonp = jsonpReturn;\n\n        appjs.load(url, 'GET', {}, params, function(err, data) {\n            if (err) {\n                cb(err);            \n            } else {\n                sandboxEval(data);\n            }\n        });\n    } else if (self.document) {\n        self.jsonp = function(o) {\n            // Return on a timeout to ensure that getJSON calls return asynchronously. There\n            // is a case in IE where, after hitting the back button, this will return\n            // synchronously and potentially confuse some clients.\n            setTimeout(function() { jsonpReturn(o) }, 0);\n        }\n\n        function cleanup() {\n            if (script.parentNode) {\n                script.parentNode.removeChild(script);\n            }            \n        }\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        // script.async = true;\n        script.src = url;\n        script.onload = cleanup;\n        script.onerror = function(event) {\n            cleanup();\n            cb(\"Error\");\n        };\n        var head = document.getElementsByTagName(\"head\")[0];\n        head.appendChild(script);\n    } else {\n        self.jsonp = jsonpReturn;\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState == 4) {\n                eval(xhr.responseText);\n                self.jsonp = null;\n            }\n        }\n        xhr.send(\"\");\n    }\n}\n\nexports.postJSON = function(url, params, cb) {\n    exports.post(url, params, function(data) {\n        var result = eval(data);\n        cb(0, result);\n    }); \n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}