{"ast":null,"code":"import React,{useState}from'react';import{NavLink}from'react-router-dom';import{SearchOutlined}from'@ant-design/icons';import{UserOutlined}from'@ant-design/icons';import axios from'axios';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Subsribe(){const[input,setInput]=useState('');const[words,setWords]=useState(['']);// 更新输入的值\nconst handleChange=e=>{// 更新value\nsetInput(e.target.value);};// 请求接口，获取句子\nconst getWords=()=>{axios.get('https://hmajax.itheima.net/api/ambition').then(result=>{setWords([result.data.data,...words]);});};// 点击事件和enter事件均可触发筛选函数\nconst isSearch=e=>{if(e.key==='Enter'||e._reactName==='onClick'){// 在输入不为空的前提下，筛选数据\nif(input!==''){setWords(()=>{const arr=words;// 根据输入的值作为筛选条件\nconst str=arr.filter(item=>item.includes(input));return str;});}else{alert('输入不能为空！');}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"i\",{children:/*#__PURE__*/_jsx(SearchOutlined,{onClick:e=>isSearch(e)})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,placeholder:\"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u8BCD\",onChange:e=>handleChange(e),onKeyUp:e=>isSearch(e)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscribe-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6211\\u7684\\u8BA2\\u9605\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-word\",onClick:getWords,children:\"\\u65B0\\u589E\\u8BED\\u53E5\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/my\",children:/*#__PURE__*/_jsxs(\"i\",{className:\"sub-login\",children:[/*#__PURE__*/_jsx(UserOutlined,{}),\"\\u672A\\u767B\\u5F55\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"good-words\",children:/*#__PURE__*/_jsx(\"ul\",{children:words.map((item,index)=>{return/*#__PURE__*/_jsx(\"li\",{children:item},index);})})})]});}","map":{"version":3,"names":["React","useState","NavLink","SearchOutlined","UserOutlined","axios","jsx","_jsx","jsxs","_jsxs","Subsribe","input","setInput","words","setWords","handleChange","e","target","value","getWords","get","then","result","data","isSearch","key","_reactName","arr","str","filter","item","includes","alert","children","className","onClick","type","placeholder","onChange","onKeyUp","to","map","index"],"sources":["C:/Users/11841/Desktop/LJ的包容性文件夹/.A实习冲刺/react-project/src/pages/Subsribe/index.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport axios from 'axios'\r\nimport './index.css'\r\n\r\nexport default function Subsribe() {\r\n  const [input, setInput] = useState('')\r\n  const [words, setWords] = useState([''])\r\n  // 更新输入的值\r\n  const handleChange = (e) => {\r\n    // 更新value\r\n    setInput(e.target.value)\r\n  }\r\n\r\n  // 请求接口，获取句子\r\n  const getWords = () => {\r\n    axios.get('https://hmajax.itheima.net/api/ambition').then(result => {\r\n      setWords([result.data.data, ...words]);\r\n    })\r\n  }\r\n  // 点击事件和enter事件均可触发筛选函数\r\n  const isSearch = (e) => {\r\n    if (e.key === 'Enter' || e._reactName === 'onClick') {\r\n      // 在输入不为空的前提下，筛选数据\r\n      if (input !== '') {\r\n        setWords(() => {\r\n          const arr = words\r\n          // 根据输入的值作为筛选条件\r\n          const str = arr.filter(item => item.includes(input))\r\n          return str\r\n        })\r\n      } else {\r\n        alert('输入不能为空！')\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"search\">\r\n        {/* 搜索模块 */}\r\n        <i><SearchOutlined onClick={(e) => isSearch(e)} /></i>\r\n        <input type=\"text\" value={input} placeholder='请输入关键词' onChange={(e) => handleChange(e)} onKeyUp={(e) => isSearch(e)} />\r\n      </div>\r\n      <div className='subscribe-title'>\r\n        <h2>我的订阅</h2>\r\n        <button className='add-word' onClick={getWords}>新增语句</button>\r\n        <NavLink to=\"/my\">\r\n          <i className='sub-login' ><UserOutlined />未登录</i>\r\n        </NavLink>\r\n      </div>\r\n      <div className='good-words'>\r\n        <ul>\r\n          {\r\n            words.map((item, index) => {\r\n              return (\r\n                <li key={index}>\r\n                  {item}\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}